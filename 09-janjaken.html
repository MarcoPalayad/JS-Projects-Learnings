<!DOCTYPE html>
<html>
  <head>
    <title>Objects</title>

  </head>
  <body>

    <p class=""> ROCK PAPER SCISSOR </p>

    <button onclick="playGame('Rock')">ROCK</button>

    <button onclick="playGame('Paper');">PAPER</button>

    <button onclick="playGame('Scissors');">SCISSORS</button>

    <p class="js-result"></p>
    <p class="js-moves"></p>

    <p class="js-score"></p>

    <button onclick="
    
        score.wins = 0;
        score.losses = 0;
        score.ties = 0;

        localStorage.removeItem('score')

        updateScoreElement()
    
    ">RESET SCORE</button>




    <script>

        let  score = JSON.parse(localStorage.getItem('score')) || {
            wins: 0,
            losses: 0,
            ties: 0
        }

        updateScoreElement()


        /*
        if (!score) {
            score = {
                wins: 0,
                losses: 0,
                ties: 0
            }
        }
        */

        function playGame(playerMove) {
                     
                     
            compMove = ''; result = ''; pickCompMove();

            if (playerMove === 'Scissors') {

                if (compMove === 'Scissors') {
                    result = 'Tie.';
                } else if (compMove === 'Rock') {
                    result = 'You Lose';
                } else if (compMove === 'Paper') {
                    result = 'You Win';
                }
        


            } else if (playerMove == 'Paper') {

                if (compMove === 'Paper') {
                    result = 'Tie.';
                } else if (compMove === 'Scissors') {
                    result = 'You Lose';
                } else if (compMove === 'Rock') {
                    result = 'You Win'
                }

            } else if (playerMove === 'Rock') {

                if (compMove === 'Rock') {
                    result = 'Tie.';
                } else if (compMove === 'Paper') {
                    result = 'You Lose';
                } else if (compMove === 'Scissors') {
                    result = 'You Win';
                }

            };

            if (result === 'You Win') {
                score.wins += 1
            } else if (result === 'You Lose') {
                score.losses += 1
            } else if (result === "Tie.") {
                score.ties += 1
            }

            localStorage.setItem('score', JSON.stringify(score))

            document.querySelector('.js-result').innerHTML = result

            document.querySelector('.js-moves').innerHTML = `Your move: ${playerMove} vs Computer move: ${compMove}`


            updateScoreElement()


            // alert(`You pick ${playerMove}. Computer picked ${compMove}. ${result}
            // Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`); 

        }

        function updateScoreElement () {
            document.querySelector('.js-score').innerHTML = `Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}`
        }

        function pickCompMove () {

            let randomNum = Math.random(); 


            if (randomNum >= 0 && randomNum < 1/3) {
                compMove = 'Scissors';
            } else if (randomNum >= 1/3 && randomNum < 2/3) {
                compMove = 'Rock';
            } else if (randomNum >= 2/3 && randomNum < 1) {
                compMove = 'Paper';
            }

            return compMove;
            
        }


    </script>
  </body>
</html>